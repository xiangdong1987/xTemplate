(function($){function SlickColumnPicker(columns,grid,options){var $menu;var columnCheckboxes;var defaults={fadeSpeed:250};function init(){grid.onHeaderContextMenu.subscribe(handleHeaderContextMenu);grid.onColumnsReordered.subscribe(updateColumnOrder);options=$.extend({},defaults,options);$menu=$("<span class='slick-columnpicker' style='display:none;position:absolute;z-index:20;' />").appendTo(document.body);$menu.bind("mouseleave",function(e){$(this).fadeOut(options.fadeSpeed);});$menu.bind("click",updateColumn);}function handleHeaderContextMenu(e,args){e.preventDefault();$menu.empty();updateColumnOrder();columnCheckboxes=[];var $li,$input;for(var i=0;i<columns.length;i++){$li=$("<li />").appendTo($menu);$input=$("<input type='checkbox' />").data("column-id",columns[i].id);columnCheckboxes.push($input);if(grid.getColumnIndex(columns[i].id)!=null){$input.attr("checked","checked");}$("<label />").text(columns[i].name).prepend($input).appendTo($li);}$("<hr/>").appendTo($menu);$li=$("<li />").appendTo($menu);$input=$("<input type='checkbox' />").data("option","autoresize");$("<label />").text("Force fit columns").prepend($input).appendTo($li);if(grid.getOptions().forceFitColumns){$input.attr("checked","checked");}$li=$("<li />").appendTo($menu);$input=$("<input type='checkbox' />").data("option","syncresize");$("<label />").text("Synchronous resize").prepend($input).appendTo($li);if(grid.getOptions().syncColumnCellResize){$input.attr("checked","checked");}$menu.css("top",e.pageY-10).css("left",e.pageX-10).fadeIn(options.fadeSpeed);}function updateColumnOrder(){var current=grid.getColumns().slice(0);var ordered=new Array(columns.length);for(var i=0;i<ordered.length;i++){if(grid.getColumnIndex(columns[i].id)===undefined){ordered[i]=columns[i];}else{ordered[i]=current.shift();}}columns=ordered;}function updateColumn(e){if($(e.target).data("option")=="autoresize"){if(e.target.checked){grid.setOptions({forceFitColumns:true});grid.autosizeColumns();}else{grid.setOptions({forceFitColumns:false});}return;}if($(e.target).data("option")=="syncresize"){if(e.target.checked){grid.setOptions({syncColumnCellResize:true});}else{grid.setOptions({syncColumnCellResize:false});}return;}if($(e.target).is(":checkbox")){var visibleColumns=[];$.each(columnCheckboxes,function(i,e){if($(this).is(":checked")){visibleColumns.push(columns[i]);}});if(!visibleColumns.length){$(e.target).attr("checked","checked");return;}grid.setColumns(visibleColumns);}}function getAllColumns(){return columns;}init();return{getAllColumns:getAllColumns};}$.extend(true,window,{Slick:{Controls:{ColumnPicker:SlickColumnPicker}}});})(jQuery);(function($){function SlickGridPager(dataView,grid,$container){var $status;function init(){dataView.onPagingInfoChanged.subscribe(function(e,pagingInfo){updatePager(pagingInfo);});constructPagerUI();updatePager(dataView.getPagingInfo());}function getNavState(){var cannotLeaveEditMode=!Slick.GlobalEditorLock.commitCurrentEdit();var pagingInfo=dataView.getPagingInfo();var lastPage=pagingInfo.totalPages-1;return{canGotoFirst:!cannotLeaveEditMode&&pagingInfo.pageSize!=0&&pagingInfo.pageNum>0,canGotoLast:!cannotLeaveEditMode&&pagingInfo.pageSize!=0&&pagingInfo.pageNum!=lastPage,canGotoPrev:!cannotLeaveEditMode&&pagingInfo.pageSize!=0&&pagingInfo.pageNum>0,canGotoNext:!cannotLeaveEditMode&&pagingInfo.pageSize!=0&&pagingInfo.pageNum<lastPage,pagingInfo:pagingInfo};}function setPageSize(n){dataView.setRefreshHints({isFilterUnchanged:true});dataView.setPagingOptions({pageSize:n});}function gotoFirst(){if(getNavState().canGotoFirst){dataView.setPagingOptions({pageNum:0});}}function gotoLast(){var state=getNavState();if(state.canGotoLast){dataView.setPagingOptions({pageNum:state.pagingInfo.totalPages-1});}}function gotoPrev(){var state=getNavState();if(state.canGotoPrev){dataView.setPagingOptions({pageNum:state.pagingInfo.pageNum-1});}}function gotoNext(){var state=getNavState();if(state.canGotoNext){dataView.setPagingOptions({pageNum:state.pagingInfo.pageNum+1});}}function constructPagerUI(){$container.empty();var $nav=$("<span class='slick-pager-nav' />").appendTo($container);var $settings=$("<span class='slick-pager-settings' />").appendTo($container);$status=$("<span class='slick-pager-status' />").appendTo($container);$settings.append("<span class='slick-pager-settings-expanded' style='display:none'>Show: <a data=0>All</a><a data='-1'>Auto</a><a data=25>25</a><a data=50>50</a><a data=100>100</a></span>");$settings.find("a[data]").click(function(e){var pagesize=$(e.target).attr("data");if(pagesize!=undefined){if(pagesize==-1){var vp=grid.getViewport();setPageSize(vp.bottom-vp.top);}else{setPageSize(parseInt(pagesize));}}});var icon_prefix="<span class='ui-state-default ui-corner-all ui-icon-container'><span class='ui-icon ";var icon_suffix="' /></span>";$(icon_prefix+"ui-icon-lightbulb"+icon_suffix).click(function(){$(".slick-pager-settings-expanded").toggle();}).appendTo($settings);$(icon_prefix+"ui-icon-seek-first"+icon_suffix).click(gotoFirst).appendTo($nav);$(icon_prefix+"ui-icon-seek-prev"+icon_suffix).click(gotoPrev).appendTo($nav);$(icon_prefix+"ui-icon-seek-next"+icon_suffix).click(gotoNext).appendTo($nav);$(icon_prefix+"ui-icon-seek-end"+icon_suffix).click(gotoLast).appendTo($nav);$container.find(".ui-icon-container").hover(function(){$(this).toggleClass("ui-state-hover");});$container.children().wrapAll("<div class='slick-pager' />");}function updatePager(pagingInfo){var state=getNavState();$container.find(".slick-pager-nav span").removeClass("ui-state-disabled");if(!state.canGotoFirst){$container.find(".ui-icon-seek-first").addClass("ui-state-disabled");}if(!state.canGotoLast){$container.find(".ui-icon-seek-end").addClass("ui-state-disabled");}if(!state.canGotoNext){$container.find(".ui-icon-seek-next").addClass("ui-state-disabled");}if(!state.canGotoPrev){$container.find(".ui-icon-seek-prev").addClass("ui-state-disabled");}if(pagingInfo.pageSize==0){$status.text("Showing all "+pagingInfo.totalRows+" rows");}else{$status.text("Showing page "+(pagingInfo.pageNum+1)+" of "+pagingInfo.totalPages);}}init();}$.extend(true,window,{Slick:{Controls:{Pager:SlickGridPager}}});})(jQuery);